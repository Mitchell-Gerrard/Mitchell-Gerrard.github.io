<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Mitchell Gerrard</title>
    <description>A computational physicist specialising in nonlinear optics.
</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 27 Dec 2025 12:18:20 +0000</pubDate>
    <lastBuildDate>Sat, 27 Dec 2025 12:18:20 +0000</lastBuildDate>
    <generator>Jekyll v3.10.0</generator>
    
      <item>
        <title>Fixing infectionsim: Fixing my poor university code! üî®</title>
        <description>&lt;h3 class=&quot;major&quot;&gt;Introduction üëã&lt;/h3&gt;
&lt;p&gt;This was the &lt;strong&gt;second&lt;/strong&gt; Python project I ever worked on, the first being a Connect 4 game that went off the rails. That one will be fun to fix, but for now, we are working on a project I made due to a change of plans. This was the year 2020. I was in the first year of my degree, and in March, COVID-19 struck the UK with its ability to shut down the entire globe; it sent us home from University, throwing us into disarray. We have experimental modules we have to complete, and we have been handing our work in person. What do we do? What work can we do? How do we get our lectures ahhh üò∞!!&lt;/p&gt;

&lt;p&gt;The university system was revolutionised; they recorded lectures at home, then enabled handing in PDFs on Blackboard. This made things easier, but there is still the question of how we are going to do the experimental module. It was data analysis. I cannot recall the other options for this miniproject, but having the opportunity to be able to apply skills to a current event was something I couldn‚Äôt pass up I was already tracking the growth of COVID using data from Johns Hopkins, so this came together nicely. So I looked in to the &lt;strong&gt;SIR&lt;/strong&gt; model and I was hooked how a random distrubion can cause somthing so real to happen, this happens with other things of course we get patterns that occur from randomness all the time look at ratiation, but this griped me so I figured out how to implement the random walks and how to change the infection distribution, I could even compare it to covid. But it sort of moved from the project, so the write-up didn‚Äôt end up the way I wanted it to be, so here is a way I can do it the way I want to. And make the code better.&lt;/p&gt;

&lt;p&gt;So in the next section, I will lay out how the simulation works and the background of the &lt;strong&gt;SIR&lt;/strong&gt;, then in the section after, I will talk about the good parts of my simulation. Following that, I will critique my old code about how it is set up, improvements that can be made, and the lack of comments, then I will correct the simulation. After that, talk through some consequences of the simulation, adding comparisons to COVID-19, and finally, I will conclude the exercise by talking about whether it was worth rewriting all of these years later, and my development since that time in my life.&lt;/p&gt;

&lt;h3 class=&quot;major&quot;&gt;Numerical Model üñ•&lt;/h3&gt;
&lt;p&gt;This section will focus on the &lt;strong&gt;SIR&lt;/strong&gt; model used by biologists for disease spread, and how this model comes out of random interactions between individuals and ways we can alter the model to line up with the real world.&lt;/p&gt;
&lt;h3&gt;The SIR Model ü¶†&lt;/h3&gt;
&lt;p&gt;The &lt;strong&gt;SIR&lt;/strong&gt; model &lt;a id=&quot;ref-1&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#bib-1&quot;&gt;[1]&lt;/a&gt; is one of the most simple &lt;strong&gt;Compartmental models&lt;/strong&gt;. These models are used to see how populations move between different states, in this case representing &lt;strong&gt;S&lt;/strong&gt;usceptible, &lt;strong&gt;I&lt;/strong&gt;nfectious, and &lt;strong&gt;R&lt;/strong&gt;ecovered individuals.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;S&lt;/strong&gt;usceptible: This group represent the people who have not caught or recovered from the disease. This group does not grow inside this model due to the assumption that the recovered group cannot catch the disease again&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;I&lt;/strong&gt;nfectious: This group represents the people who are currently infected with the disease. This group in this model has the most complex behaviour due to this group both growing due to the infection and decreasing due to people recovering from the disease.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;R&lt;/strong&gt;ecovered: This group are &lt;strong&gt;‚ÄúRecovered‚Äù&lt;/strong&gt; from the disease. You may notice the quotation marks; this is due to this group not being separated into dead and non-dead categories. This may throw off the model slightly, but for a low mortality-to-recovery ratio of SARS-type viruses, it is relatively safe to assume the recovered group would dominate.&lt;/p&gt;

&lt;p&gt;The recovered group brings up a question in this COVID modelling: Does the recovered domination assumption hold? Because we had to lock down, it must have had a high mortality, right? Johns Hopkins&lt;a id=&quot;ref-2&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#bib-2&quot;&gt;[2]&lt;/a&gt; gives a case mortality ratio around 1-2 %, this measure would more likely give an overestimate than an underestermate due to relying on confermed cases, people are more likly to have not got tested due to the how contagus the disease was, even if this overestermated number was close to the ‚Äútruth‚Äù it is still dominated by people recovering meaning the assumtion holds.&lt;/p&gt;

&lt;p&gt;Just existing in these groups does not a model make, we require the way these to interact. How do they do it? Well, differential equations of course! These differential equations were solved by Harko et. al &lt;a id=&quot;ref-3&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#bib-3&quot;&gt;[3]&lt;/a&gt; using the Abel solution, but those solutions are not needed in this post; the differential equations are defined as:&lt;/p&gt;

\[\begin{aligned}
\frac{dS}{dt} &amp;amp;= -\beta \frac{SI}{N} \\
\frac{dI}{dt} &amp;amp;= \beta \frac{SI}{N} - \gamma I \\
\frac{dR}{dt} &amp;amp;= \gamma I
\end{aligned}\]

&lt;p&gt;Where N is the total number in all populations, $\beta$ is the infection rate, and $\gamma$ is the recovery rate. This post will only numerically solve these differential equations.&lt;/p&gt;

&lt;h3&gt;Particle Simulation&lt;/h3&gt;
&lt;p&gt;This particle simulation is relatively simple. There is random movement, any random space between -50 and 50 üòï, then checks whether it is in a radius of another. If either is infected, there is a chance that they will get infected, then it goes and goes again, yeah, I hate this too üò°. I will improve this, but you‚Äôll have to wait for my criticisms to find out how.&lt;/p&gt;
&lt;h3 class=&quot;major&quot;&gt;What this guy did well?ü•≥&lt;h3&gt;
This Guy man he managed to see what was going on from some form of randomness. This was a great idea to show how mathematical equation can describe the real world, there are many application of these forms of randomness and particle simulations. Such as being able to show ensamble behavour like this and the standard gas equations.

This approach also allow for outbreak dynamics, showing how the growth of the disease can depend on the both the way people act and the spreadablility of the disease.

I also made it paramatrisaseable, meaning we can explore transmissability and people dynamics by altering diffrent things to improve the dynamics and give advice on how we can reduce the spread.

The visualisations using gif are awesome seeing the development if the infection and people interacting, spreading the disease, showing how important it was to lockdown.

The multiprocessing to be able to run multiple simulations fast is nice can so we can nomalise the randomness and run multiple parameters quickly.

&lt;h3 class=&quot;major&quot;&gt;What this guy did badly?üò≠&lt;h3&gt;
&lt;h3 class=&quot;major&quot;&gt; Bibliography&lt;/h3&gt;
&lt;a id=&quot;bib-1&quot;&gt;&lt;/a&gt;[1] Hethcote, Herbert W, &quot;The Mathematics of Infectious Diseases&quot;, SIAM Review, Volume 42, 4, pages 599-653, 2000, &lt;a href=&quot;https://doi.org/10.1137/S0036144500371907&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;https://doi.org/10.1137/S0036144500371907&lt;/a&gt;. &lt;a href=&quot;#ref-1&quot;&gt;‚Ü©&lt;/a&gt;

&lt;a id=&quot;bib-2&quot;&gt;&lt;/a&gt;[2] Johns Hopkins University, &quot;Mortality Analyses&quot;, Johns Hopkins Coronavirus Resource Center, n.d. &lt;a href=&quot;https://coronavirus.jhu.edu/data/mortality&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;https://coronavirus.jhu.edu/data/mortality&lt;/a&gt;. &lt;a href=&quot;#ref-2&quot;&gt;‚Ü©&lt;/a&gt;

&lt;a id=&quot;bib-3&quot;&gt;&lt;/a&gt;[3] Tiberiu Harko, Francisco S.N. Lobo, M.K. Mak, &quot;Exact analytical solutions of the Susceptible-Infected-Recovered (SIR) epidemic model and of the SIR mode&quot;, Applied Mathematics and Computation, Volume 236, Pages 184-194, ISSN 0096-3003, 2014 &lt;a href=&quot;https://doi.org/10.1016/j.amc.2014.03.030&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;https://doi.org/10.1016/j.amc.2014.03.030&lt;/a&gt;. &lt;a href=&quot;#ref-3&quot;&gt;‚Ü©&lt;/a&gt;
&lt;/h3&gt;&lt;/h3&gt;&lt;/h3&gt;&lt;/h3&gt;
</description>
        <pubDate>Fri, 26 Dec 2025 00:00:00 +0000</pubDate>
        <link>http://localhost:4000/fixing%20old%20code/2025/12/26/fixing-infectionsim.html</link>
        <guid isPermaLink="true">http://localhost:4000/fixing%20old%20code/2025/12/26/fixing-infectionsim.html</guid>
        
        
        <category>Fixing Old Code</category>
        
      </item>
    
      <item>
        <title>Floating-Point Precision in Python for Scientific Simulations</title>
        <description>&lt;p&gt;When working on scientific simulations in Python‚Äîwhether modeling nonlinear optical phenomena, fluid dynamics, or other complex systems‚Äîit‚Äôs easy to overlook the small details that can significantly impact your results. One of the most important of these details is &lt;strong&gt;floating-point precision&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Python represents decimal numbers using floating-point arithmetic, which allows efficient computation with real numbers but comes with inherent limitations. Unlike integers, floating-point numbers can‚Äôt always represent decimal values exactly. For example, simple numbers like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0.1&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0.2&lt;/code&gt; may not be stored precisely due to the binary representation used under the hood. Over many calculations, these tiny discrepancies can accumulate, sometimes leading to unexpected behavior in simulations.&lt;/p&gt;

&lt;p&gt;Libraries like &lt;strong&gt;NumPy&lt;/strong&gt; provide tools to manage precision carefully. You can choose between different numeric types‚Äî&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;float32&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;float64&lt;/code&gt;, or even higher precision libraries‚Äîto control how much memory and accuracy your calculations use. Understanding these differences is crucial when simulating systems sensitive to small changes, such as pulse propagation in nonlinear optical media or other iterative scientific computations.&lt;/p&gt;

&lt;p&gt;Another consideration is &lt;strong&gt;numerical stability&lt;/strong&gt;. Even mathematically equivalent formulas can produce different results due to rounding errors. Being mindful of how Python performs arithmetic, and testing your results against known solutions or analytical approximations, can help prevent subtle bugs and unreliable results.&lt;/p&gt;

&lt;p&gt;In short, floating-point numbers are deceptively simple but incredibly important in scientific programming. By understanding their behavior, you can make your Python simulations more accurate, reliable, and trustworthy‚Äîturning small details into a foundation for meaningful scientific insight.&lt;/p&gt;
</description>
        <pubDate>Wed, 19 Nov 2025 00:00:00 +0000</pubDate>
        <link>http://localhost:4000/python%20tips/2025/11/19/floating-point.html</link>
        <guid isPermaLink="true">http://localhost:4000/python%20tips/2025/11/19/floating-point.html</guid>
        
        
        <category>Python Tips</category>
        
      </item>
    
  </channel>
</rss>
